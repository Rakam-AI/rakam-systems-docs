"use strict";(self.webpackChunkrakam_systems_docs_portal=self.webpackChunkrakam_systems_docs_portal||[]).push([[1674],{7439(e,n,s){s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>t,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"ai-components/vectorstore/index","title":"Vectorstore","description":"The vectorstore package of Rakam Systems providing vector database solutions and document processing capabilities.","source":"@site/docs/ai-components/vectorstore/index.md","sourceDirName":"ai-components/vectorstore","slug":"/ai-components/vectorstore/","permalink":"/rakam-systems-docs/ai-components/vectorstore/","draft":false,"unlisted":false,"editUrl":"https://github.com/Rakam-AI/rakam_systems/edit/main/docs/docs/ai-components/vectorstore/index.md","tags":[],"version":"current","lastUpdatedBy":null,"lastUpdatedAt":null,"frontMatter":{"title":"Vectorstore"}}');var o=s(4848),i=s(8453);const t={title:"Vectorstore"},c="Rakam System Vectorstore",a={},l=[{value:"Overview",id:"overview",level:2},{value:"Features",id:"features",level:2},{value:"\ud83c\udfaf Configuration Convenience",id:"-configuration-convenience",level:3},{value:"Installation",id:"installation",level:2},{value:"Quick Start",id:"quick-start",level:2},{value:"FAISS Vector Store (In-Memory)",id:"faiss-vector-store-in-memory",level:3},{value:"PostgreSQL Vector Store",id:"postgresql-vector-store",level:3},{value:"Core Components",id:"core-components",level:2},{value:"Vector Stores",id:"vector-stores",level:3},{value:"Embeddings",id:"embeddings",level:3},{value:"Document Loaders",id:"document-loaders",level:3},{value:"Chunking",id:"chunking",level:3},{value:"Package Structure",id:"package-structure",level:2},{value:"Search Capabilities",id:"search-capabilities",level:2},{value:"Vector Search",id:"vector-search",level:3},{value:"Keyword Search (BM25)",id:"keyword-search-bm25",level:3},{value:"Hybrid Search",id:"hybrid-search",level:3},{value:"Configuration",id:"configuration",level:2},{value:"From YAML",id:"from-yaml",level:3},{value:"Examples",id:"examples",level:2},{value:"Environment Variables",id:"environment-variables",level:2},{value:"License",id:"license",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"rakam-system-vectorstore",children:"Rakam System Vectorstore"})}),"\n",(0,o.jsx)(n.p,{children:"The vectorstore package of Rakam Systems providing vector database solutions and document processing capabilities."}),"\n",(0,o.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"rakam-systems-vectorstore"})," provides comprehensive vector storage, embedding models, and document loading capabilities. This package depends on ",(0,o.jsx)(n.code,{children:"rakam-systems-core"}),"."]}),"\n",(0,o.jsx)(n.h2,{id:"features",children:"Features"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Configuration-First Design"}),": Change your entire vector store setup via YAML - no code changes"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Multiple Backends"}),": PostgreSQL with pgvector and FAISS in-memory storage"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Flexible Embeddings"}),": Support for SentenceTransformers, OpenAI, and Cohere"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Document Loaders"}),": PDF, DOCX, HTML, Markdown, CSV, and more"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Search Capabilities"}),": Vector search, keyword search (BM25), and hybrid search"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Chunking"}),": Intelligent text chunking with context preservation"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Configuration"}),": Comprehensive YAML/JSON configuration support"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"-configuration-convenience",children:"\ud83c\udfaf Configuration Convenience"}),"\n",(0,o.jsx)(n.p,{children:"The vectorstore package's configurable design allows you to:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Switch embedding models"})," without code changes (local \u2194 OpenAI \u2194 Cohere)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Change search algorithms"})," instantly (BM25 \u2194 ts_rank \u2194 hybrid)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Adjust search parameters"})," (similarity metrics, top-k, hybrid weights)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Toggle features"})," (hybrid search, caching, reranking)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Tune performance"})," (batch sizes, chunk sizes, connection pools)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Swap backends"})," (FAISS \u2194 PostgreSQL) by updating config"]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Example"}),": Test different embedding models to find the best accuracy/cost balance - just update your YAML config file, no code changes needed!"]}),"\n",(0,o.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Requires core package\npip install rakam-systems-core\n\n# Install vectorstore package\npip install rakam-systems-vectorstore\n\n# With specific backends\npip install rakam-systems-vectorstore[postgres]\npip install rakam-systems-vectorstore[faiss]\npip install rakam-systems-vectorstore[all]\n"})}),"\n",(0,o.jsx)(n.h2,{id:"quick-start",children:"Quick Start"}),"\n",(0,o.jsx)(n.h3,{id:"faiss-vector-store-in-memory",children:"FAISS Vector Store (In-Memory)"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:'from rakam_systems_vectorstore.components.vectorstore.faiss_vector_store import FaissStore\nfrom rakam_systems_vectorstore.core import Node, NodeMetadata\n\n# Create store\nstore = FaissStore(\n    name="my_store",\n    base_index_path="./indexes",\n    embedding_model="Snowflake/snowflake-arctic-embed-m",\n    initialising=True\n)\n\n# Create nodes\nnodes = [\n    Node(\n        content="Python is great for AI",\n        metadata=NodeMetadata(source_file_uuid="doc1", position=0)\n    )\n]\n\n# Add and search\nstore.create_collection_from_nodes("my_collection", nodes)\nresults, _ = store.search("my_collection", "AI programming", number=5)\n'})}),"\n",(0,o.jsx)(n.h3,{id:"postgresql-vector-store",children:"PostgreSQL Vector Store"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"import os\nimport django\nfrom django.conf import settings\n\n# Configure Django (required)\nif not settings.configured:\n    settings.configure(\n        INSTALLED_APPS=[\n            'django.contrib.contenttypes',\n            'rakam_systems_vectorstore.components.vectorstore',\n        ],\n        DATABASES={\n            'default': {\n                'ENGINE': 'django.db.backends.postgresql',\n                'NAME': os.getenv('POSTGRES_DB', 'vectorstore_db'),\n                'USER': os.getenv('POSTGRES_USER', 'postgres'),\n                'PASSWORD': os.getenv('POSTGRES_PASSWORD', 'postgres'),\n                'HOST': os.getenv('POSTGRES_HOST', 'localhost'),\n                'PORT': os.getenv('POSTGRES_PORT', '5432'),\n            }\n        },\n        DEFAULT_AUTO_FIELD='django.db.models.BigAutoField',\n    )\n    django.setup()\n\nfrom rakam_systems_vectorstore import ConfigurablePgVectorStore, VectorStoreConfig\n\n# Create configuration\nconfig = VectorStoreConfig(\n    embedding={\n        \"model_type\": \"sentence_transformer\",\n        \"model_name\": \"Snowflake/snowflake-arctic-embed-m\"\n    },\n    search={\n        \"similarity_metric\": \"cosine\",\n        \"enable_hybrid_search\": True\n    }\n)\n\n# Create and use store\nstore = ConfigurablePgVectorStore(config=config)\nstore.setup()\nstore.add_nodes(nodes)\nresults = store.search(\"What is AI?\", top_k=5)\nstore.shutdown()\n"})}),"\n",(0,o.jsx)(n.h2,{id:"core-components",children:"Core Components"}),"\n",(0,o.jsx)(n.h3,{id:"vector-stores",children:"Vector Stores"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"ConfigurablePgVectorStore"}),": PostgreSQL with pgvector, supports hybrid search and keyword search"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"FaissStore"}),": In-memory FAISS-based vector search"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"embeddings",children:"Embeddings"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"ConfigurableEmbeddings"}),": Supports multiple backends","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"SentenceTransformers (local)"}),"\n",(0,o.jsx)(n.li,{children:"OpenAI embeddings"}),"\n",(0,o.jsx)(n.li,{children:"Cohere embeddings"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"document-loaders",children:"Document Loaders"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"AdaptiveLoader"}),": Automatically detects and loads various file types"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"PdfLoader"}),": Advanced PDF processing with Docling"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"PdfLoaderLight"}),": Lightweight PDF to markdown conversion"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"DocLoader"}),": Microsoft Word documents"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"OdtLoader"}),": OpenDocument Text files"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"MdLoader"}),": Markdown files"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"HtmlLoader"}),": HTML files"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"EmlLoader"}),": Email files"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"TabularLoader"}),": CSV, Excel files"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"CodeLoader"}),": Source code files"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"chunking",children:"Chunking"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"TextChunker"}),": Sentence-based chunking with Chonkie"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"AdvancedChunker"}),": Context-aware chunking with heading preservation"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"package-structure",children:"Package Structure"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"rakam-systems-vectorstore/\n\u251c\u2500\u2500 src/rakam_systems_vectorstore/\n\u2502   \u251c\u2500\u2500 core.py                  # Node, VSFile, NodeMetadata\n\u2502   \u251c\u2500\u2500 config.py                # VectorStoreConfig\n\u2502   \u251c\u2500\u2500 components/\n\u2502   \u2502   \u251c\u2500\u2500 vectorstore/         # Store implementations\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 configurable_pg_vectorstore.py\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 faiss_vector_store.py\n\u2502   \u2502   \u251c\u2500\u2500 embedding_model/     # Embedding models\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 configurable_embeddings.py\n\u2502   \u2502   \u251c\u2500\u2500 loader/              # Document loaders\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 adaptive_loader.py\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 pdf_loader.py\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 pdf_loader_light.py\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 ... (other loaders)\n\u2502   \u2502   \u2514\u2500\u2500 chunker/             # Text chunkers\n\u2502   \u2502       \u251c\u2500\u2500 text_chunker.py\n\u2502   \u2502       \u2514\u2500\u2500 advanced_chunker.py\n\u2502   \u251c\u2500\u2500 docs/                    # Package documentation\n\u2502   \u2514\u2500\u2500 server/                  # MCP server\n\u2514\u2500\u2500 pyproject.toml\n"})}),"\n",(0,o.jsx)(n.h2,{id:"search-capabilities",children:"Search Capabilities"}),"\n",(0,o.jsx)(n.h3,{id:"vector-search",children:"Vector Search"}),"\n",(0,o.jsx)(n.p,{children:"Semantic similarity search using embeddings:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:'results = store.search("machine learning algorithms", top_k=10)\n'})}),"\n",(0,o.jsx)(n.h3,{id:"keyword-search-bm25",children:"Keyword Search (BM25)"}),"\n",(0,o.jsx)(n.p,{children:"Full-text search with BM25 ranking:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:'results = store.keyword_search(\n    query="machine learning",\n    top_k=10,\n    ranking_algorithm="bm25"\n)\n'})}),"\n",(0,o.jsx)(n.h3,{id:"hybrid-search",children:"Hybrid Search"}),"\n",(0,o.jsx)(n.p,{children:"Combines vector and keyword search:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:'results = store.hybrid_search(\n    query="neural networks",\n    top_k=10,\n    alpha=0.7  # 70% vector, 30% keyword\n)\n'})}),"\n",(0,o.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,o.jsx)(n.h3,{id:"from-yaml",children:"From YAML"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:"# vectorstore_config.yaml\nname: my_vectorstore\n\nembedding:\n  model_type: sentence_transformer\n  model_name: Snowflake/snowflake-arctic-embed-m\n  batch_size: 128\n  normalize: true\n\ndatabase:\n  host: localhost\n  port: 5432\n  database: vectorstore_db\n  user: postgres\n  password: postgres\n\nsearch:\n  similarity_metric: cosine\n  default_top_k: 5\n  enable_hybrid_search: true\n  hybrid_alpha: 0.7\n\nindex:\n  chunk_size: 512\n  chunk_overlap: 50\n"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:'config = VectorStoreConfig.from_yaml("vectorstore_config.yaml")\nstore = ConfigurablePgVectorStore(config=config)\n'})}),"\n",(0,o.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,o.jsxs)(n.p,{children:["See the ",(0,o.jsx)(n.code,{children:"examples/ai_vectorstore_examples/"})," directory in the main repository for complete examples:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Basic FAISS example"}),"\n",(0,o.jsx)(n.li,{children:"PostgreSQL example"}),"\n",(0,o.jsx)(n.li,{children:"Configurable vectorstore examples"}),"\n",(0,o.jsx)(n.li,{children:"PDF loader examples"}),"\n",(0,o.jsx)(n.li,{children:"Keyword search examples"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"POSTGRES_HOST"}),": PostgreSQL host (default: localhost)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"POSTGRES_PORT"}),": PostgreSQL port (default: 5432)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"POSTGRES_DB"}),": Database name (default: vectorstore_db)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"POSTGRES_USER"}),": Database user (default: postgres)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"POSTGRES_PASSWORD"}),": Database password"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"OPENAI_API_KEY"}),": For OpenAI embeddings"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"COHERE_API_KEY"}),": For Cohere embeddings"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"HUGGINGFACE_TOKEN"}),": For private HuggingFace models"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"license",children:"License"}),"\n",(0,o.jsx)(n.p,{children:"Apache 2.0"})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453(e,n,s){s.d(n,{R:()=>t,x:()=>c});var r=s(6540);const o={},i=r.createContext(o);function t(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:t(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);