"use strict";(self.webpackChunkrakam_systems_docs_portal=self.webpackChunkrakam_systems_docs_portal||[]).push([[8547],{5009(e,n,t){t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"getting-started/CLI","title":"CLI - Step-by-Step Guide","description":"This guide will help you set up and use the CLI tools for local evaluation and monitoring.","source":"@site/docs/getting-started/CLI.md","sourceDirName":"getting-started","slug":"/getting-started/CLI","permalink":"/rakam-systems-docs/getting-started/CLI","draft":false,"unlisted":false,"editUrl":"https://github.com/Rakam-AI/rakam_systems/edit/main/docs/docs/getting-started/CLI.md","tags":[],"version":"current","lastUpdatedBy":"Mohamed Bashar Touil","lastUpdatedAt":1771249661000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Installation Guide","permalink":"/rakam-systems-docs/getting-started/installation"},"next":{"title":"Quick Start Guide","permalink":"/rakam-systems-docs/getting-started/quick_start"}}');var s=t(4848),r=t(8453);const a={},l="CLI - Step-by-Step Guide",o={},c=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Start the Eval Service Stack",id:"start-the-eval-service-stack",level:2},{value:"Using the CLI package",id:"using-the-cli-package",level:2},{value:"Setup Python Environment",id:"setup-python-environment",level:3},{value:"Configuration Options",id:"configuration-options",level:3},{value:"Writing Evaluation Functions",id:"writing-evaluation-functions",level:3},{value:"CLI Usage",id:"cli-usage",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"cli---step-by-step-guide",children:"CLI - Step-by-Step Guide"})}),"\n",(0,s.jsx)(n.p,{children:"This guide will help you set up and use the CLI tools for local evaluation and monitoring."}),"\n",(0,s.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://docs.docker.com/get-docker/",children:"Docker"})," installed"]}),"\n",(0,s.jsx)(n.li,{children:"Access to the private container registry (credentials required)"}),"\n",(0,s.jsx)(n.li,{children:"Python 3.8+"}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"start-the-eval-service-stack",children:"Start the Eval Service Stack"}),"\n",(0,s.jsx)(n.p,{children:"This will launch all required services:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'docker run -d \\\n  --name eval-framework \\\n  -p 8080:8000 \\\n  -e OPENAI_API_KEY= YOUR_API \\\n  -e API_PREFIX="/eval-framework" \\\n  -e APP_NAME="eval-framework" \\\n  346k0827.c1.de1.container-registry.ovh.net/monitoring/evaluation-service:v0.2.4rc8\n'})}),"\n",(0,s.jsx)(n.h2,{id:"using-the-cli-package",children:"Using the CLI package"}),"\n",(0,s.jsx)(n.h3,{id:"setup-python-environment",children:"Setup Python Environment"}),"\n",(0,s.jsx)(n.p,{children:"First, create and activate a virtual environment (recommended):"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"python3 -m venv venv\nsource venv/bin/activate  # On macOS/Linux\n# Or on Windows: venv\\Scripts\\activate\n"})}),"\n",(0,s.jsx)(n.p,{children:"Then install the required dependencies:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"pip install rakam-systems-cli==0.2.4rc15\n"})}),"\n",(0,s.jsx)(n.h3,{id:"configuration-options",children:"Configuration Options"}),"\n",(0,s.jsx)(n.p,{children:"The client can be configured in the following way:"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Using environment variables:"})," The client will automatically pick up the ",(0,s.jsx)(n.code,{children:"EVALFRAMEWORK_URL"})," and ",(0,s.jsx)(n.code,{children:"EVALFRAMEWORK_API_KEY"})," environment variables if they are set or it will try to read from ",(0,s.jsx)(n.code,{children:".env"})," file in the root of the project."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'export EVALFRAMEWORK_URL="http://eval-service-url.com"\nexport EVALFRAMEWORK_API_KEY="your-api-token"\n'})}),"\n",(0,s.jsxs)(n.p,{children:["If no ",(0,s.jsx)(n.code,{children:"base_url"})," is provided, it defaults to ",(0,s.jsx)(n.code,{children:"http://localhost:8080"}),"."]}),"\n",(0,s.jsx)(n.h3,{id:"writing-evaluation-functions",children:"Writing Evaluation Functions"}),"\n",(0,s.jsxs)(n.p,{children:["Evaluation functions are placed in the ",(0,s.jsx)(n.code,{children:"eval/"})," directory. Each function must be decorated with ",(0,s.jsx)(n.code,{children:"@eval_run"})," and return an ",(0,s.jsx)(n.code,{children:"EvalConfig"})," or ",(0,s.jsx)(n.code,{children:"SchemaEvalConfig"})," object."]}),"\n",(0,s.jsxs)(n.p,{children:["See ",(0,s.jsx)(n.code,{children:"eval/examples.py"})," for complete examples. Here's a simple one:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'# eval/examples.py\nfrom rakam_systems_cli.decorators import eval_run\nfrom rakam_systems_tools.evaluation.schema import (\n    EvalConfig,\n    TextInputItem,\n    ClientSideMetricConfig,\n    ToxicityConfig,\n)\n\n@eval_run\ndef test_simple_text_eval():\n    """A simple text evaluation showcasing basic client-side metric"""\n    return EvalConfig(\n        component="text_component_1",\n        label="demo_simple_text",\n        data=[\n            TextInputItem(\n                id="txt_001",\n                input="Hello world",\n                output="Hello world",\n                expected_output="Hello world",\n                metrics=[ClientSideMetricConfig(name="relevance", score=1)],\n            )\n        ],\n        metrics=[ToxicityConfig(name="toxicity_demo", include_reason=False)],\n    )\n'})}),"\n",(0,s.jsx)(n.p,{children:"And then run:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"rakam eval run\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Key Points:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Place evaluation scripts in the ",(0,s.jsx)(n.code,{children:"eval/"})," directory"]}),"\n",(0,s.jsxs)(n.li,{children:["Use ",(0,s.jsx)(n.code,{children:"@eval_run"})," to decorate your function"]}),"\n",(0,s.jsxs)(n.li,{children:["Return a valid config object (",(0,s.jsx)(n.code,{children:"EvalConfig"})," or ",(0,s.jsx)(n.code,{children:"SchemaEvalConfig"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:["Each input should be a ",(0,s.jsx)(n.code,{children:"TextInputItem"})," or ",(0,s.jsx)(n.code,{children:"SchemaInputItem"})]}),"\n",(0,s.jsx)(n.li,{children:"Specify metrics to be computed"}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"cli-usage",children:"CLI Usage"}),"\n",(0,s.jsxs)(n.p,{children:["Refer to ",(0,s.jsx)(n.a,{href:"https://github.com/Rakam-AI/evaluation-tools/blob/ft/better-process-tags/sdk/CLI.md",children:"https://github.com/Rakam-AI/evaluation-tools/blob/ft/better-process-tags/sdk/CLI.md"})," for more information"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453(e,n,t){t.d(n,{R:()=>a,x:()=>l});var i=t(6540);const s={},r=i.createContext(s);function a(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);